# import InquiryAnswerStatus, InquiryAnswerButtons from '../fragments/inquiry-answer.graphql'
# import InquiryRequestDeadline from '../fragments/inquiry-request.graphql'

fragment NavigationInquiry on WorkItem {
  id
  status
  addressedGroups
  controllingGroups
  document {
    id
    ...InquiryRequestDeadline
  }
  childCase {
    id
    document {
      id
      modifiedContentAt
      ...InquiryAnswerStatus
    }
    ...InquiryAnswerButtons
  }
}

query Navigation(
  $task: ID!
  $statusQuestion: ID
  $deadlineQuestion: ID
  $caseId: ID!
  $buttonTasks: [String]!
) {
  inquiries: allWorkItems(
    filter: [
      { case: $caseId }
      { task: $task }
      { status: CANCELED, invert: true }
    ]
    order: [{ attribute: CREATED_AT, direction: DESC }]
  ) {
    edges {
      node {
        ...NavigationInquiry
      }
    }
  }
}
