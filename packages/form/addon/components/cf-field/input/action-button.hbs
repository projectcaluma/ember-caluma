{{#if
  (macroCondition
    (macroDependencySatisfies "@projectcaluma/ember-workflow" "*")
  )
}}
  <DocumentValidity
    @document={{@field.document}}
    @validateOnEnter={{this.validateOnEnter}}
    as |isValid validate|
  >
    <WorkItemButton
      @workItemId={{this.workItem}}
      @mutation={{this.action}}
      @label={{@field.question.raw.label}}
      @disabled={{or (and (not-eq isValid null) (not isValid)) @disabled}}
      @color={{this.color}}
      @beforeMutate={{fn this.beforeMutate validate}}
      @onSuccess={{this.onSuccess}}
      @onError={{this.onError}}
      class={{if @disabled "uk-hidden"}}
    />
  </DocumentValidity>
{{/if}}